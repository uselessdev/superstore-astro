---
export interface Props {
  product: {
    id: string;
    name: string;
    originalPrice: number;
    price: number;
  };
}

const intl = new Intl.NumberFormat("pt-BR", {
  currency: "BRL",
  style: "currency",
});

const { product } = Astro.props;
---

<div class="w-full">
  <img
    class="aspect-video object-cover object-center"
    src={`/assets/images/${product.id}.jpg`}
    alt={product.name}
  />

  <div class="py-2 h-32">
    <h3 class="text-lg text-gray-600">{product.name}</h3>
    <div class="flex flex-col my-4 font-mono">
      {
        product.originalPrice > 0 ? (
          <span class="text-xs line-through">
            {intl.format(product.originalPrice / 100)}
          </span>
        ) : null
      }
      {
        product.price > 0 ? (
          <strong class="text-gray-700">
            {intl.format(product.price / 100)}
          </strong>
        ) : null
      }
    </div>
  </div>

  <button
    class="bg-gray-700 text-white text-xs rounded-sm py-2 px-4 hover:bg-gray-600 font-semibold"
  >
    comprar
  </button>
</div>
